<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Formal representation of a seasonal effect model. — sts_seasonal • tfprobability</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Formal representation of a seasonal effect model. — sts_seasonal" />

<meta property="og:description" content="A seasonal effect model posits a fixed set of recurring, discrete 'seasons',
each of which is active for a fixed number of timesteps and, while active,
contributes a different effect to the time series. These are generally not
meteorological seasons, but represent regular recurring patterns such as
hour-of-day or day-of-week effects. Each season lasts for a fixed number of
timesteps. The effect of each season drifts from one occurrence to the next
following a Gaussian random walk:" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tfprobability</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/dynamic_linear_models.html">Dynamic linear models</a>
    </li>
    <li>
      <a href="../articles/hamiltonian_monte_carlo.html">Multi-level modeling with Hamiltonian Monte Carlo</a>
    </li>
    <li>
      <a href="../articles/layer_dense_variational.html">Uncertainty estimates with layer_dense_variational</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Formal representation of a seasonal effect model.</h1>
    
    <div class="hidden name"><code>sts_seasonal.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>A seasonal effect model posits a fixed set of recurring, discrete 'seasons',
each of which is active for a fixed number of timesteps and, while active,
contributes a different effect to the time series. These are generally not
meteorological seasons, but represent regular recurring patterns such as
hour-of-day or day-of-week effects. Each season lasts for a fixed number of
timesteps. The effect of each season drifts from one occurrence to the next
following a Gaussian random walk:</p>
    
    </div>

    <pre class="usage"><span class='fu'>sts_seasonal</span>(<span class='kw'>observed_time_series</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>num_seasons</span>,
  <span class='kw'>num_steps_per_season</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>drift_scale_prior</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>initial_effect_prior</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>constrain_mean_effect_to_zero</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>observed_time_series</th>
      <td><p>optional <code>float</code> <code>tensor</code> of shape
<code>batch_shape + [T, 1]</code> (omitting the trailing unit dimension is also
supported when <code>T &gt; 1</code>), specifying an observed time series.
Any priors not explicitly set will be given default values according to
the scale of the observed time series (or batch of time series). May
optionally be an instance of <code>sts_masked_time_series</code>, which includes
a mask <code>tensor</code> to specify timesteps with missing observations.
Default value: <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>num_seasons</th>
      <td><p>Scalar <code>integer</code> number of seasons.</p></td>
    </tr>
    <tr>
      <th>num_steps_per_season</th>
      <td><p><code>integer</code> number of steps in each
season. This may be either a scalar (shape <code>[]</code>), in which case all
seasons have the same length, or an array of shape <code>[num_seasons]</code>,
in which seasons have different length, but remain constant around
different cycles, or an array of shape <code>[num_cycles, num_seasons]</code>,
in which num_steps_per_season for each season also varies in different
cycle (e.g., a 4 years cycle with leap day). Default value: 1.</p></td>
    </tr>
    <tr>
      <th>drift_scale_prior</th>
      <td><p>optional <code>tfd$Distribution</code> instance specifying a prior
on the <code>drift_scale</code> parameter. If <code>NULL</code>, a heuristic default prior is
constructed based on the provided <code>observed_time_series</code>. Default value: <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>initial_effect_prior</th>
      <td><p>optional <code>tfd$Distribution</code> instance specifying a
normal prior on the initial effect of each season. This may be either
a scalar <code>tfd_normal</code> prior, in which case it applies independently to
every season, or it may be multivariate normal (e.g.,
<code>tfd_multivariate_normal_diag</code>) with event shape <code>[num_seasons]</code>, in
which case it specifies a joint prior across all seasons. If <code>NULL</code>, a
heuristic default prior is constructed based on the provided
<code>observed_time_series</code>. Default value: <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>constrain_mean_effect_to_zero</th>
      <td><p>if <code>TRUE</code>, use a model parameterization
that constrains the mean effect across all seasons to be zero. This
constraint is generally helpful in identifying the contributions of
different model components and can lead to more interpretable
posterior decompositions. It may be undesirable if you plan to directly
examine the latent space of the underlying state space model. Default value: <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>the name of this model component. Default value: 'Seasonal'.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <pre>effects[season, occurrence[i]] = (
  effects[season, occurrence[i-1]] + Normal(loc=0., scale=drift_scale))
</pre>
    <p>The <code>drift_scale</code> parameter governs the standard deviation of the random walk;
for example, in a day-of-week model it governs the change in effect from this
Monday to next Monday.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other sts: <code><a href='sts_additive_state_space_model.html'>sts_additive_state_space_model</a></code>,
  <code><a href='sts_autoregressive_state_space_model.html'>sts_autoregressive_state_space_model</a></code>,
  <code><a href='sts_autoregressive.html'>sts_autoregressive</a></code>,
  <code><a href='sts_dynamic_linear_regression_state_space_model.html'>sts_dynamic_linear_regression_state_space_model</a></code>,
  <code><a href='sts_dynamic_linear_regression.html'>sts_dynamic_linear_regression</a></code>,
  <code><a href='sts_linear_regression.html'>sts_linear_regression</a></code>,
  <code><a href='sts_local_level_state_space_model.html'>sts_local_level_state_space_model</a></code>,
  <code><a href='sts_local_level.html'>sts_local_level</a></code>,
  <code><a href='sts_local_linear_trend_state_space_model.html'>sts_local_linear_trend_state_space_model</a></code>,
  <code><a href='sts_local_linear_trend.html'>sts_local_linear_trend</a></code>,
  <code><a href='sts_seasonal_state_space_model.html'>sts_seasonal_state_space_model</a></code>,
  <code><a href='sts_semi_local_linear_trend_state_space_model.html'>sts_semi_local_linear_trend_state_space_model</a></code>,
  <code><a href='sts_semi_local_linear_trend.html'>sts_semi_local_linear_trend</a></code>,
  <code><a href='sts_sum.html'>sts_sum</a></code></p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Sigrid Keydana.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

