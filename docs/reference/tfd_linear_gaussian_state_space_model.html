<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Observation distribution from a linear Gaussian state space model. — tfd_linear_gaussian_state_space_model • tfprobability</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Observation distribution from a linear Gaussian state space model. — tfd_linear_gaussian_state_space_model" />

<meta property="og:description" content="The state space model, sometimes called a Kalman filter, posits a
latent state vector z_t of dimension latent_size that evolves
over time following linear Gaussian transitions,
z_{t+1} = F * z_t + N(b; Q)
for transition matrix F, bias b and covariance matrix
Q. At each timestep, we observe a noisy projection of the
latent state x_t = H * z_t + N(c; R). The transition and
observation models may be fixed or may vary between timesteps." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tfprobability</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tfprobability.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Observation distribution from a linear Gaussian state space model.</h1>
    
    <div class="hidden name"><code>tfd_linear_gaussian_state_space_model.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The state space model, sometimes called a Kalman filter, posits a
latent state vector <code>z_t</code> of dimension <code>latent_size</code> that evolves
over time following linear Gaussian transitions,
<code>z_{t+1} = F * z_t + N(b; Q)</code>
for transition matrix <code>F</code>, bias <code>b</code> and covariance matrix
<code>Q</code>. At each timestep, we observe a noisy projection of the
latent state <code>x_t = H * z_t + N(c; R)</code>. The transition and
observation models may be fixed or may vary between timesteps.</p>
    
    </div>

    <pre class="usage"><span class='fu'>tfd_linear_gaussian_state_space_model</span>(<span class='no'>num_timesteps</span>, <span class='no'>transition_matrix</span>,
  <span class='no'>transition_noise</span>, <span class='no'>observation_matrix</span>, <span class='no'>observation_noise</span>,
  <span class='no'>initial_state_prior</span>, <span class='kw'>initial_step</span> <span class='kw'>=</span> <span class='fl'>0L</span>, <span class='kw'>validate_args</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>allow_nan_stats</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"LinearGaussianStateSpaceModel"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>num_timesteps</th>
      <td><p>Integer <code>Tensor</code> total number of timesteps.</p></td>
    </tr>
    <tr>
      <th>transition_matrix</th>
      <td><p>A transition operator, represented by a Tensor or
LinearOperator of shape <code>[latent_size, latent_size]</code>, or by a
callable taking as argument a scalar integer Tensor <code>t</code> and
returning a Tensor or LinearOperator representing the transition
operator from latent state at time <code>t</code> to time <code>t + 1</code>.</p></td>
    </tr>
    <tr>
      <th>transition_noise</th>
      <td><p>An instance of
<code>tfd$MultivariateNormalLinearOperator</code> with event shape
<code>[latent_size]</code>, representing the mean and covariance of the
transition noise model, or a callable taking as argument a
scalar integer Tensor <code>t</code> and returning such a distribution
representing the noise in the transition from time <code>t</code> to time <code>t + 1</code>.</p></td>
    </tr>
    <tr>
      <th>observation_matrix</th>
      <td><p>An observation operator, represented by a Tensor
or LinearOperator of shape <code>[observation_size, latent_size]</code>,
or by a callable taking as argument a scalar integer Tensor
<code>t</code> and returning a timestep-specific Tensor or LinearOperator.</p></td>
    </tr>
    <tr>
      <th>observation_noise</th>
      <td><p>An instance of <code>tfd.MultivariateNormalLinearOperator</code>
with event shape <code>[observation_size]</code>, representing the mean and covariance of
the observation noise model, or a callable taking as argument
a scalar integer Tensor <code>t</code> and returning a timestep-specific
noise model.
@param initial_state_prior An instance of <code>MultivariateNormalLinearOperator</code>
representing the prior distribution on latent states; must
have event shape <code>[latent_size]</code>.</p></td>
    </tr>
    <tr>
      <th>initial_step</th>
      <td><p>optional <code>integer</code> specifying the time of the first
modeled timestep.  This is added as an offset when passing
timesteps <code>t</code> to (optional) callables specifying
timestep-specific transition and observation models.</p></td>
    </tr>
    <tr>
      <th>validate_args</th>
      <td><p>Logical, default FALSE. When TRUE distribution parameters are checked
for validity despite possibly degrading runtime performance. When FALSE invalid inputs may
silently render incorrect outputs. Default value: FALSE.</p></td>
    </tr>
    <tr>
      <th>allow_nan_stats</th>
      <td><p>Logical, default TRUE. When TRUE, tatistics (e.g., mean, mode, variance)
use the value NaN to indicate the result is undefined. When FALSE, an exception is raised if
one or more of the statistic's batch members are undefined.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>name prefixed to Ops created by this class.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This Distribution represents the marginal distribution on
observations, <code>p(x)</code>. The marginal <code>log_prob</code> is computed by
Kalman filtering, and <code>sample</code> by an efficient forward
recursion. Both operations require time linear in <code>T</code>, the total
number of timesteps.</p>
<p>Shapes</p>
<p>The event shape is <code>[num_timesteps, observation_size]</code>, where
<code>observation_size</code> is the dimension of each observation <code>x_t</code>.
The observation and transition models must return consistent
shapes.
This implementation supports vectorized computation over a batch of
models. All of the parameters (prior distribution, transition and
observation operators and noise models) must have a consistent
batch shape.</p>
<p>Time-varying processes</p>
<p>Any of the model-defining parameters (prior distribution, transition
and observation operators and noise models) may be specified as a
callable taking an integer timestep <code>t</code> and returning a
time-dependent value. The dimensionality (<code>latent_size</code> and
<code>observation_size</code>) must be the same at all timesteps.</p>
<p>Importantly, the timestep is passed as a <code>Tensor</code>, not a Python
integer, so any conditional behavior must occur <em>inside</em> the
TensorFlow graph. For example, suppose we want to use a different
transition model on even days than odd days. It does <em>not</em> work to
write</p><pre>transition_matrix &lt;- function(t) {
if(t %% 2 == 0) even_day_matrix else odd_day_matrix
}
</pre>
    <p>since the value of <code>t</code> is not fixed at graph-construction
time. Instead we need to write</p><pre>transition_matrix &lt;- function(t) {
tf$cond(tf$equal(tf$mod(t, 2), 0), function() even_day_matrix, function() odd_day_matrix)
}
</pre>
    <p>so that TensorFlow can switch between operators appropriately at runtime.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other distributions: <code><a href='tfd_bernoulli.html'>tfd_bernoulli</a></code>,
  <code><a href='tfd_beta.html'>tfd_beta</a></code>, <code><a href='tfd_binomial.html'>tfd_binomial</a></code>,
  <code><a href='tfd_categorical.html'>tfd_categorical</a></code>, <code><a href='tfd_cauchy.html'>tfd_cauchy</a></code>,
  <code><a href='tfd_chi2.html'>tfd_chi2</a></code>, <code><a href='tfd_chi.html'>tfd_chi</a></code>,
  <code><a href='tfd_dirichlet_multinomial.html'>tfd_dirichlet_multinomial</a></code>,
  <code><a href='tfd_dirichlet.html'>tfd_dirichlet</a></code>,
  <code><a href='tfd_exponential.html'>tfd_exponential</a></code>,
  <code><a href='tfd_gamma_gamma.html'>tfd_gamma_gamma</a></code>, <code><a href='tfd_gamma.html'>tfd_gamma</a></code>,
  <code><a href='tfd_geometric.html'>tfd_geometric</a></code>, <code><a href='tfd_gumbel.html'>tfd_gumbel</a></code>,
  <code><a href='tfd_half_cauchy.html'>tfd_half_cauchy</a></code>,
  <code><a href='tfd_half_normal.html'>tfd_half_normal</a></code>,
  <code><a href='tfd_hidden_markov_model.html'>tfd_hidden_markov_model</a></code>,
  <code><a href='tfd_horseshoe.html'>tfd_horseshoe</a></code>,
  <code><a href='tfd_independent.html'>tfd_independent</a></code>,
  <code><a href='tfd_inverse_gamma.html'>tfd_inverse_gamma</a></code>,
  <code><a href='tfd_inverse_gaussian.html'>tfd_inverse_gaussian</a></code>,
  <code><a href='tfd_joint_distribution_sequential.html'>tfd_joint_distribution_sequential</a></code>,
  <code><a href='tfd_kumaraswamy.html'>tfd_kumaraswamy</a></code>, <code><a href='tfd_laplace.html'>tfd_laplace</a></code>,
  <code><a href='tfd_lkj.html'>tfd_lkj</a></code>, <code><a href='tfd_log_normal.html'>tfd_log_normal</a></code>,
  <code><a href='tfd_logistic.html'>tfd_logistic</a></code>,
  <code><a href='tfd_mixture_same_family.html'>tfd_mixture_same_family</a></code>,
  <code><a href='tfd_mixture.html'>tfd_mixture</a></code>, <code><a href='tfd_multinomial.html'>tfd_multinomial</a></code>,
  <code><a href='tfd_multivariate_normal_diag_plus_low_rank.html'>tfd_multivariate_normal_diag_plus_low_rank</a></code>,
  <code><a href='tfd_multivariate_normal_diag.html'>tfd_multivariate_normal_diag</a></code>,
  <code><a href='tfd_multivariate_normal_full_covariance.html'>tfd_multivariate_normal_full_covariance</a></code>,
  <code><a href='tfd_multivariate_normal_linear_operator.html'>tfd_multivariate_normal_linear_operator</a></code>,
  <code><a href='tfd_multivariate_normal_tri_l.html'>tfd_multivariate_normal_tri_l</a></code>,
  <code><a href='tfd_multivariate_student_t_linear_operator.html'>tfd_multivariate_student_t_linear_operator</a></code>,
  <code><a href='tfd_negative_binomial.html'>tfd_negative_binomial</a></code>,
  <code><a href='tfd_normal.html'>tfd_normal</a></code>,
  <code><a href='tfd_one_hot_categorical.html'>tfd_one_hot_categorical</a></code>,
  <code><a href='tfd_pareto.html'>tfd_pareto</a></code>,
  <code><a href='tfd_poisson_log_normal_quadrature_compound.html'>tfd_poisson_log_normal_quadrature_compound</a></code>,
  <code><a href='tfd_poisson.html'>tfd_poisson</a></code>, <code><a href='tfd_quantized.html'>tfd_quantized</a></code>,
  <code><a href='tfd_relaxed_bernoulli.html'>tfd_relaxed_bernoulli</a></code>,
  <code><a href='tfd_relaxed_one_hot_categorical.html'>tfd_relaxed_one_hot_categorical</a></code>,
  <code><a href='tfd_sinh_arcsinh.html'>tfd_sinh_arcsinh</a></code>,
  <code><a href='tfd_student_t_process.html'>tfd_student_t_process</a></code>,
  <code><a href='tfd_student_t.html'>tfd_student_t</a></code>,
  <code><a href='tfd_transformed.html'>tfd_transformed</a></code>,
  <code><a href='tfd_triangular.html'>tfd_triangular</a></code>,
  <code><a href='tfd_truncated_normal.html'>tfd_truncated_normal</a></code>,
  <code><a href='tfd_uniform.html'>tfd_uniform</a></code>,
  <code><a href='tfd_variational_gaussian_process.html'>tfd_variational_gaussian_process</a></code>,
  <code><a href='tfd_vector_diffeomixture.html'>tfd_vector_diffeomixture</a></code>,
  <code><a href='tfd_vector_exponential_diag.html'>tfd_vector_exponential_diag</a></code>,
  <code><a href='tfd_vector_exponential_linear_operator.html'>tfd_vector_exponential_linear_operator</a></code>,
  <code><a href='tfd_vector_laplace_diag.html'>tfd_vector_laplace_diag</a></code>,
  <code><a href='tfd_vector_laplace_linear_operator.html'>tfd_vector_laplace_linear_operator</a></code>,
  <code><a href='tfd_vector_sinh_arcsinh_diag.html'>tfd_vector_sinh_arcsinh_diag</a></code>,
  <code><a href='tfd_von_mises_fisher.html'>tfd_von_mises_fisher</a></code>,
  <code><a href='tfd_von_mises.html'>tfd_von_mises</a></code>, <code><a href='tfd_wishart.html'>tfd_wishart</a></code>,
  <code><a href='tfd_zipf.html'>tfd_zipf</a></code></p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Sigrid Keydana, Kevin Kuo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

